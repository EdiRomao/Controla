<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Terefas - Workspace</title>
  <link href="../../../../public/assets/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../../../../public/assets/css/nav.css">
  <!-- cdn para adicionar icons-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="../../../../public/assets/css/global.css">
</head>
<body>
  
    <header>
        <div class="container-fluid">
          <div class="d-flex justify-content-between align-items-center">
            <!-- Botão de menu móvel -->
            <button class="btn btn-sm border-0 d-md-none text-white" onclick="toggleSidebar()" aria-label="Toggle sidebar">
              <i class="fas fa-bars" style="font-size: 24px;"></i>
            </button>
    
            <!-- Navegação para telas médias e grandes -->
            <div class="d-none d-md-flex align-items-center">
              <a href="/usuarios" class="nav-link me-4">
                <i class="fas fa-users" style="font-size: 24px;"></i>
              </a>
              <a href="/calendario" class="nav-link me-4">
                <i class="fas fa-calendar" style="font-size: 24px;"></i>
              </a>
              <a href="/documentos" class="nav-link me-4">
                <i class="fas fa-file-alt" style="font-size: 24px;"></i>
              </a>
              <a href="/workspace/comunicacao" class="nav-link me-3">
                <i class="fas fa-comment" style="font-size: 22px;"></i>
              </a>
            </div>
    
            <!-- Utilitários e perfil -->
            <div class="d-none d-md-flex align-items-center">
              <a href="/ajuda" class="nav-link d-flex align-items-center me-4">
                <i class="fas fa-question-circle" style="font-size: 24px;"></i>
              </a>
              <a href="/pesquisar" class="nav-link d-flex align-items-center me-4">
                <i class="fas fa-search" style="font-size: 24px;"></i>
              </a>
              <a href="/notificacoes" class="nav-link d-flex align-items-center me-4">
                <i class="fas fa-bell" style="font-size: 24px;"></i>
              </a>
              <a href="/perfil" class="nav-link d-flex align-items-center me-4">
                <i class="fas fa-user" style="font-size: 24px;"></i>
              </a>
              <a href="../../../../index.html" class="nav-link me-4">
                <i class="fas fa-sign-out-alt" style="font-size: 24px;"></i>
              </a>
              <span id="empresa-nome" class="empresa-nome ms-2"></span>
            </div>
          </div>
        </div>
    
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu position-absolute start-0 top-100 p-3 d-none">
          <div class="row">
            <div class="col-12 mb-3 border-bottom pb-3">
              <div class="d-flex justify-content-between align-items-center">
                <span id="mobile-empresa-nome" class="fw-bold"> Minha Empresa</span>
              </div>
            </div>
    
            <div class="col-6 mb-3">
              <div class="fw-bold mb-2">Navegação</div>
              <a href="/usuarios" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-users me-2" style="font-size: 20px;"></i>
                <span>Usuários</span>
              </a>
              <a href="/calendario" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-calendar me-2" style="font-size: 20px;"></i>
                <span>Calendário</span>
              </a>
              <a href="/documentos" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-file-alt me-2" style="font-size: 20px;"></i>
                <span>Documentos</span>
              </a>
            </div>
    
            <div class="col-6 mb-3">
              <div class="fw-bold mb-2">Utilitários</div>
              <a href="/ajuda" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-question-circle me-2" style="font-size: 20px;"></i>
                <span>Ajuda</span>
              </a>
              <a href="/pesquisar" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-search me-2" style="font-size: 20px;"></i>
                <span>Pesquisar</span>
              </a>
              <a href="/notificacoes" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-bell me-2" style="font-size: 20px;"></i>
                <span>Notificações</span>
              </a>
              <a href="/perfil" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-user me-2" style="font-size: 20px;"></i>
                <span>Perfil</span>
              </a>
              <a href="/mensagens" class="mobile-nav-link d-block py-2 d-flex align-items-center text-decoration-none">
                <i class="fas fa-comment me-2" style="font-size: 20px;"></i>
                <span>Mensagens</span>
              </a>
            </div>
          </div>
        </div>
      </header>    
    <div class="wrapper">
      <div id="sidebar" class="sidebar">
        <div>
          <div class="d-flex justify-content-between align-items-center p-3">
            <div id="workspace-section" class="d-flex align-items-center">
              <i class="fas fa-table me-2"></i>
              <span class="fw-bold">Workspace</span>
            </div>
            <button class="toggle-btn btn btn-sm text-white border-0 p-1" onclick="toggleSidebar()" title="Minimizar">
              <i id="toggle-icon" class="fas fa-chevron-left"></i>
            </button>
          </div>
  
          <div id="menu-items" class="mt-2">
            <a href="#" class="text-decoration-none text-white menu-item" data-name="Visão Geral">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-th-large me-3" style="font-size: 20px;"></i>
                <span>Visão Geral</span>
              </div>
            </a>
            <a href="../painelworkspace.html" class="text-decoration-none text-white menu-item" data-name="Voltar">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-arrow-left me-3" style="font-size: 20px;"></i>
                <span>Voltar</span>
              </div>
            </a>
            <a href="./viewtasks.html" class="text-decoration-none text-white menu-item active" data-name="Tarefas">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-list-ul me-3" style="font-size: 20px;"></i>
                <span>Tarefas</span>
              </div>
            </a>
            <a href="../time/viewtime.html" class="text-decoration-none text-white menu-item" data-name="Equipa">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-users me-3" style="font-size: 20px;"></i>
                <span>Equipa</span>
              </div>
            </a>
            <a href="../comunicacao/chat.html" class="text-decoration-none text-white menu-item" data-name="Comunicações">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-comment me-3" style="font-size: 20px;"></i>
                <span>Comunicações</span>
              </div>
            </a>
            <a href="#" class="text-decoration-none text-white menu-item" data-name="Relatórios">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-file-alt me-3" style="font-size: 20px;"></i>
                <span>Relatórios</span>
              </div>
            </a>
            <a href="#" class="text-decoration-none text-white menu-item" data-name="Configurações">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-cog me-3" style="font-size: 20px;"></i>
                <span>Configurações</span>
              </div>
            </a>
            <a href="/workspace/permissoes" class="text-decoration-none text-white menu-item" data-name="Permissões">
              <div class="d-flex align-items-center py-3 px-3">
                <i class="fas fa-folder me-3" style="font-size: 20px;"></i>
                <span>Permissões</span>
              </div>
            </a>
          </div>
        </div>
  
        <div class="mt-auto mb-3">
          <a href="../../../../index.html" class="text-decoration-none text-white">
            <div class="d-flex align-items-center py-3 px-3">
              <i class="fas fa-sign-out-alt me-3" style="font-size: 20px;"></i>
              <span>Sair</span>
            </div>
          </a>
        </div>
      </div>

  <div class="container-fluid p-4 bg-light">
    <!-- Title and Remaining Days Section -->
    <div class="row mb-3 align-items-center">
      <div class="col-6">
        <h1 class="mb-0 fs-4">Tarefas</h1>
        <h5 class="mb-3 d-flex align-items-center">Area de Trabalhos</h5>
      </div>
      <div class="col-6 text-end">
        <span class="me-3">Restam 150 dias</span>
      </div>
    </div>

    <!-- Company Filter Buttons -->
    <div class="row mb-3">
      <div class="col-12">
        <div class="card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-outline-secondary" style="border-color: #00565a; color: #00565a;" onclick="filterCompany('todas')">Todas as Empresas</button>
              <button class="btn btn-outline-secondary" style="border-color: #5a287d; color: #5a287d;" onclick="filterCompany('Interno')">Interno <span class="ms-2 badge bg-light text-dark">3</span></button>
              <button class="btn btn-outline-secondary" style="border-color: #e74c3c; color: #e74c3c;" onclick="filterCompany('Top Brands')">Top Brands <span class="ms-2 badge bg-light text-dark">1</span></button>
              <button class="btn btn-outline-secondary" style="border-color: #f39c12; color: #f39c12;" onclick="filterCompany('Chevron')">Chevron <span class="ms-2 badge bg-light text-dark">1</span></button>
              <button class="btn btn-outline-secondary" style="border-color: #3498db; color: #3498db;" onclick="filterCompany('BNA')">BNA <span class="ms-2 badge bg-light text-dark">1</span></button>
              <button class="btn btn-outline-secondary" style="border-color: #dc3545; color: #dc3545;" onclick="filterCompany('Worten')">Worten <span class="ms-2 badge bg-light text-dark">1</span></button>
            </div>
            <div id="companyInfo" class="mt-3 p-3 bg-light rounded d-none">
              <h5>Informações: <span id="selectedCompanyName"></span></h5>
              <div class="row mt-2">
                <div class="col-md-3">
                  <div class="card border-0 shadow-sm bg-white">
                    <div class="card-body text-center">
                      <h6 class="mb-1">Total de Tarefas</h6>
                      <h3 id="totalTasks">0</h3>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card border-0 shadow-sm bg-white">
                    <div class="card-body text-center">
                      <h6 class="mb-1">Pendentes</h6>
                      <h3 id="pendingTasks" class="text-warning">0</h3>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card border-0 shadow-sm bg-white">
                    <div class="card-body text-center">
                      <h6 class="mb-1">Concluídas</h6>
                      <h3 id="completedTasks" class="text-success">0</h3>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card border-0 shadow-sm bg-white">
                    <div class="card-body text-center">
                      <h6 class="mb-1">Atrasadas</h6>
                      <h3 id="delayedTasks" class="text-danger">0</h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search Bar Section -->
    <div class="row mb-3">
      <div class="col-lg-12">
        <div class="d-flex">
          <div class="flex-grow-1 me-2">
            <input type="text" class="form-control" placeholder="Pesquise por nome da tarefa, responsável, projeto..." oninput="filterTasks(this.value)">
          </div>
          <button class="btn btn-outline-secondary me-2" type="button">Pesquisa avançada</button>
        </div>
      </div>
    </div>

    <!-- View Toggle Section -->
    <div class="row mb-3">
      <div class="col-12 d-flex justify-content-between align-items-center">
        <div class="d-flex gap-2">
          <button class="btn btn-outline-secondary" onclick="toggleView('list')" id="listViewBtn"><svg class="me-1" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/></svg> Lista</button>
          <button class="btn btn-primary" style="background-color: #00565a;" onclick="toggleView('grid')" id="gridViewBtn"><svg class="me-1" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg> Grelha</button>
        </div>
      </div>
    </div>

    <!-- Grid View -->
    <div class="row" id="gridView">
      <div class="col-lg-9">
        <div class="row" id="taskGrid">
          <!-- Task cards will be dynamically inserted here -->
        </div>
      </div>
      <div class="col-lg-3">
        <a href="./tasks.html" class="btn w-100 py-3 mb-3 text-white d-flex align-items-center justify-content-center" style="background-color: #00565a;">Nova Tarefa</a>
        <a href="./newclient.html" class="btn w-100 py-3 mb-3 bg-white border d-flex align-items-center justify-content-center">Novo Cliente</a>
        <button class="btn w-100 py-3 mb-3 bg-white border d-flex align-items-center justify-content-center">Nova tarefa rápida</button>
        <div class="card border-0 shadow-sm mb-3">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <h5 class="card-title mb-0">Pódio de Produtividade</h5>
            </div>
            <div class="d-flex flex-column">
              <div class="d-flex align-items-center mb-2">
                <div class="bg-warning rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>1</span></div>
                <span class="ms-2 fw-medium">José Matos</span>
                <span class="ms-auto fw-bold">12</span>
              </div>
              <div class="d-flex align-items-center mb-2">
                <div class="bg-info rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>2</span></div>
                <span class="ms-2 fw-medium">Raquel</span>
                <span class="ms-auto fw-bold">9</span>
              </div>
              <div class="d-flex align-items-center mb-2">
                <div class="bg-danger rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>3</span></div>
                <span class="ms-2 fw-medium">Cahali</span>
                <span class="ms-auto fw-bold">7</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card border-0 shadow-sm">
          <div class="card-body p-0">
            <button class="btn btn-light text-success w-100 d-flex align-items-center border-bottom rounded-0 py-3"><svg class="me-2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4 12 14.01l-3-3"/></svg><span>Selecionar</span></button>
            <button class="btn btn-danger text-light w-100 d-flex align-items-center rounded-0 py-3"><svg class="me-2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg><span>Apagar</span></button>
          </div>
        </div>
      </div>
    </div>

    <!-- List View -->
    <div class="row d-none" id="listView">
      <div class="col-lg-9 mb-4">
        <div class="card border-0 shadow-sm">
          <div class="table-responsive">
            <table class="table table-hover mb-0">
              <thead class="bg-white">
                <tr>
                  <th class="py-3" width="20"><input type="checkbox" class="form-check-input"></th>
                  <th class="py-3">Tarefa</th>
                  <th class="py-3">Empresa</th>
                  <th class="py-3">Prioridade</th>
                  <th class="py-3">Responsável</th>
                  <th class="py-3">Status</th>
                  <th class="py-3">Início</th>
                  <th class="py-3">Prazo</th>
                  <th class="py-3">PDF</th>
                  <th class="py-3">Acções</th>
                </tr>
              </thead>
              <tbody id="taskTable">
                <!-- Table rows will be dynamically inserted here -->
              </tbody>
            </table>
          </div>
          <div class="bg-light p-2 d-flex justify-content-center align-items-center">
            <button class="btn btn-sm btn-light me-2" type="button">Selecionar todos</button>
            <button class="btn btn-sm btn-light me-2" type="button">Arquivar</button>
            <button class="btn btn-sm btn-light me-2" type="button">Apagar</button>
            <button class="btn btn-sm btn-light" type="button">Download PDF</button>
          </div>
          <div class="bg-light p-2 d-flex justify-content-center align-items-center">
            <nav aria-label="Page navigation">
              <ul class="pagination mb-0">
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">Primeira</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">Anterior</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">1</a></li>
                <li class="page-item active"><a class="page-link border-0" href="#" style="background-color: #00565a;">2</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">3</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">4</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">5</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">Próxima</a></li>
                <li class="page-item"><a class="page-link border-0 text-dark" href="#">Última</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      <div class="col-lg-3">
        <a href="./tasks.html" class="btn w-100 py-3 mb-3 text-white d-flex align-items-center justify-content-center" style="background-color: #00565a;">Nova Tarefa</a>
        <a href="./newclient.html" class="btn w-100 py-3 mb-3 bg-white border d-flex align-items-center justify-content-center">Novo Cliente</a>
        <button class="btn w-100 py-3 mb-3 bg-white border d-flex align-items-center justify-content-center">Nova tarefa rápida</button>
        <div class="card border-0 shadow-sm mb-3">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <h5 class="card-title mb-0">Pódio de Produtividade</h5>
            </div>
            <div class="d-flex flex-column">
              <div class="d-flex align-items-center mb-2">
                <div class="bg-warning rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>1</span></div>
                <span class="ms-2 fw-medium">José Matos</span>
                <span class="ms-auto fw-bold">12</span>
              </div>
              <div class="d-flex align-items-center mb-2">
                <div class="bg-info rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>2</span></div>
                <span class="ms-2 fw-medium">Raquel</span>
                <span class="ms-auto fw-bold">9</span>
              </div>
              <div class="d-flex align-items-center mb-2">
                <div class="bg-danger rounded-circle d-flex justify-content-center align-items-center text-white" style="width: 24px; height: 24px; min-width: 24px;"><span>3</span></div>
                <span class="ms-2 fw-medium">Cahali</span>
                <span class="ms-auto fw-bold">7</span>
              </div>
            </div>
          </div>
        </div>
        <div class="card border-0 shadow-sm">
          <div class="card-body p-0">
            <button class="btn btn-light text-success w-100 d-flex align-items-center border-bottom rounded-0 py-3"><svg class="me-2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4 12 14.01l-3-3"/></svg><span>Selecionar</span></button>
            <button class="btn btn-danger text-light w-100 d-flex align-items-center rounded-0 py-3"><svg class="me-2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg><span>Apagar</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="../../../../public/assets/js/sidbar.js"></script>
  <script src="../../../../public/assets/js/viewtasks.js"></script>
</body>
</html>